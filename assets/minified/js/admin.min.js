(()=>{"use strict";const e=window.React,{i18n:{__},components:{Button:t,Tooltip:o,Icon:a}}=wp,l=({formData:l})=>{const{icon:{viewBox:r="0 0 512 512",paths:n=["M257.5 27.6c-.8-5.4-4.9-9.8-10.3-10.6v0c-22.1-3.1-44.6 .9-64.4 11.4l-74 39.5C89.1 78.4 73.2 94.9 63.4 115L26.7 190.6c-9.8 20.1-13 42.9-9.1 64.9l14.5 82.8c3.9 22.1 14.6 42.3 30.7 57.9l60.3 58.4c16.1 15.6 36.6 25.6 58.7 28.7l83 11.7c22.1 3.1 44.6-.9 64.4-11.4l74-39.5c19.7-10.5 35.6-27 45.4-47.2l36.7-75.5c9.8-20.1 13-42.9 9.1-64.9v0c-.9-5.3-5.3-9.3-10.6-10.1c-51.5-8.2-92.8-47.1-104.5-97.4c-1.8-7.6-8-13.4-15.7-14.6c-54.6-8.7-97.7-52-106.2-106.8zM208 144a32 32 0 1 1 0 64 32 32 0 1 1 0-64zM144 336a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zm224-64a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]}={}}=l;return(0,e.createElement)(o,{text:__("Preview","wecodeart")},(0,e.createElement)(t,{style:(({position:e,style:{padding:t,border:o={},borderRadius:a,width:l,height:r,left:n="initial",right:c="initial",bottom:s=0,backgroundColor:i="transparent",color:d="inherit"}={}}={})=>{let m={position:"fixed",bottom:s,width:l,height:r,padding:t,color:d,borderRadius:a,backgroundColor:i,left:"left"===e?n:"initial",right:"right"===e?n:"initial",transition:"all .3s ease-in-out",zIndex:1e3},p={};const g=Object.keys(o);if(["top","left","right","bottom"].some((e=>g.includes(e))))for(const e in o){const t=o[e];p={...p,[`border${capitalizeWord(e)}`]:Object.values(t).join(" ")}}else p={border:Object.values(o).join(" ")};return m={...m,...p},m})(l)},(0,e.createElement)(a,{icon:()=>(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:r},n.map((t=>(0,e.createElement)("path",{fill:"currentColor",d:t}))))})))},{i18n:{__:r},components:{TextControl:n,ToggleControl:c,Card:s,CardHeader:i,CardBody:d,BaseControl:m,DropdownMenu:p,SelectControl:g,ColorPalette:u,ColorIndicator:w,__experimentalHStack:f}}=wp,{i18n:{__:b},components:{Card:h,CardHeader:E,CardBody:C,BaseControl:v,RangeControl:k,DropdownMenu:y,SelectControl:x,ColorPalette:_,ColorIndicator:S,__experimentalHStack:N,__experimentalNumberControl:B,__experimentalBorderBoxControl:P}}=wp,T=({formData:t,setFormData:o,setStyle:a,colors:l})=>(0,e.createElement)(h,{className:"border shadow-none h-100"},(0,e.createElement)(E,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},b("Toggler","wecodeart"))),(0,e.createElement)(C,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(x,{label:b("Position","wecodeart"),value:t?.toggler?.position,options:[{label:b("Left","wecodeart"),value:"left"},{label:b("Right","wecodeart"),value:"right"}],onChange:e=>o({...t,toggler:{...t?.toggler,position:e}}),help:b("Relative to the browser window.","wecodeart"),__nextHasNoMarginBottom:!0})),(0,e.createElement)("p",null,(0,e.createElement)(N,null,(0,e.createElement)(B,{isShiftStepEnabled:!0,spinControls:"custom",label:b("Horizontal Margin","wecodeart"),help:b("Number of pixels for horizontal window distance.","wecodeart"),min:0,value:t?.toggler?.style?.left,onChange:e=>a({left:parseInt(e)},"toggler")}),(0,e.createElement)(B,{isShiftStepEnabled:!0,spinControls:"custom",label:b("Vertical Margin","wecodeart"),help:b("Number of pixels for vertical window distance.","wecodeart"),min:0,value:t?.toggler?.style?.bottom,onChange:e=>a({bottom:parseInt(e)},"toggler")}))),(0,e.createElement)("p",null,(0,e.createElement)(B,{isShiftStepEnabled:!0,spinControls:"custom",label:b("Size","wecodeart"),min:20,value:t?.toggler?.style?.width,onChange:e=>a({width:parseInt(e),height:parseInt(e)},"toggler"),help:b("In pixels.","wecodeart")})),(0,e.createElement)("p",null,(0,e.createElement)(B,{isShiftStepEnabled:!0,spinControls:"custom",label:b("Padding","wecodeart"),min:0,value:t?.toggler?.style?.padding,onChange:e=>a({padding:parseInt(e)},"toggler"),help:b("In pixels.","wecodeart")})),(0,e.createElement)("p",null,(0,e.createElement)(P,{colors:l,label:b("Border","wecodeart"),value:t?.toggler?.style?.border,onChange:e=>a({border:e},"toggler"),help:b("In pixels.","wecodeart")})),(0,e.createElement)("p",null,(0,e.createElement)(k,{label:b("Radius","wecodeart"),allowReset:!0,value:t?.toggler?.style?.borderRadius,onChange:e=>a({borderRadius:e},"toggler"),min:0})),(0,e.createElement)("p",null,(0,e.createElement)(v,{label:b("Colors","wecodeart")},(0,e.createElement)(N,{style:{justifyContent:"flex-start"}},(0,e.createElement)(y,{label:b("Background Color","wecodeart"),icon:(0,e.createElement)(S,{colorValue:t?.toggler?.style?.backgroundColor}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)(_,{colors:l,enableAlpha:!0,value:t?.toggler?.style?.backgroundColor,onChange:e=>a({backgroundColor:e},"toggler")}))),(0,e.createElement)(y,{label:b("Icon Color","wecodeart"),icon:(0,e.createElement)(S,{colorValue:t?.toggler?.style?.color}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)(_,{colors:l,enableAlpha:!0,value:t?.toggler?.style?.color,onChange:e=>a({color:e},"toggler")})))))))),{i18n:{__:I},components:{TextControl:M,ToggleControl:D,Card:R,CardHeader:H,CardBody:O,BaseControl:j,DropdownMenu:z,SelectControl:A,ColorPalette:F,ColorIndicator:L,__experimentalHStack:V}}=wp,W=({formData:t,setFormData:o,setStyle:a,colors:l})=>(0,e.createElement)(R,{className:"border shadow-none h-100"},(0,e.createElement)(H,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},I("Offcanvas","wecodeart"))),(0,e.createElement)(O,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(A,{label:I("Position","wecodeart"),value:t?.offcanvas?.position,options:[{label:I("Top","wecodeart"),value:"top"},{label:I("Bottom","wecodeart"),value:"bottom"}],onChange:e=>o({...t,offcanvas:{...t?.offcanvas,position:e}}),help:I("Relative to the browser window.","wecodeart"),__nextHasNoMarginBottom:!0})),(0,e.createElement)("p",null,(0,e.createElement)(M,{label:I("Title","wecodeart"),value:t?.offcanvas?.title,onChange:e=>o({...t,offcanvas:{...t?.offcanvas,title:e}}),help:I("The title for the offcanvas.","wecodeart")})),(0,e.createElement)("p",null,(0,e.createElement)(A,{label:I("Backdrop","wecodeart"),value:t?.offcanvas?.backdrop,options:[{label:I("Enabled","wecodeart"),value:"true"},{label:I("Static","wecodeart"),value:"static"},{label:I("Disabled","wecodeart"),value:"false"}],onChange:e=>o({...t,offcanvas:{...t?.offcanvas,backdrop:e}}),help:"false"!==t?.offcanvas?.backdrop&&sprintf(I("Clicking backdrop will %s offcanvas.","wecodeart"),I("static"===t?.offcanvas?.backdrop?"not close":"close","wecodeart")),__nextHasNoMarginBottom:!0})),(0,e.createElement)("p",null,(0,e.createElement)(D,{label:I("Allow scroll","wecodeart"),checked:t?.offcanvas?.scroll,onChange:e=>o({...t,offcanvas:{...t?.offcanvas,scroll:e}}),help:sprintf(I("Scroll is %s when offcanvas is active.","wecodeart"),I(t?.offcanvas?.scroll?"allowed":"not allowed","wecodeart"))})),(0,e.createElement)("p",null,(0,e.createElement)(D,{label:I("Show close button","wecodeart"),checked:t?.offcanvas?.close,onChange:e=>o({...t,offcanvas:{...t?.offcanvas,close:e}}),help:sprintf(I("Offcanvas close button is %s.","wecodeart"),I(t?.offcanvas?.close?"shown":"not shown","wecodeart"))})),(0,e.createElement)("p",null,(0,e.createElement)(D,{label:I("Keyboard control","wecodeart"),checked:t?.offcanvas?.keyboard,onChange:e=>o({...t,offcanvas:{...t?.offcanvas,keyboard:e}}),help:sprintf(I("Offcanvas %s be closed with ESC key.","wecodeart"),I(t?.offcanvas?.keyboard?"can":"cannot","wecodeart"))})),(0,e.createElement)("p",null,(0,e.createElement)(j,{label:I("Colors","wecodeart")},(0,e.createElement)(V,{style:{justifyContent:"flex-start"}},(0,e.createElement)(z,{label:I("Background Color","wecodeart"),icon:(0,e.createElement)(L,{colorValue:t?.offcanvas?.style?.backgroundColor}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)(F,{colors:l,enableAlpha:!0,value:t?.offcanvas?.style?.backgroundColor,onChange:e=>a({backgroundColor:e})}))),(0,e.createElement)(z,{label:I("Text Color","wecodeart"),icon:(0,e.createElement)(L,{colorValue:t?.offcanvas?.style?.color}),toggleProps:{style:{height:"initial",minWidth:"initial",padding:0}},popoverProps:{focusOnMount:"container",position:"bottom",noArrow:!1}},(()=>(0,e.createElement)(F,{colors:l,enableAlpha:!0,value:t?.offcanvas?.style?.color,onChange:e=>a({color:e})})))))))),{i18n:{__:$},components:{Card:U,CardHeader:q,CardBody:K,TextControl:Y,ToggleControl:G,__experimentalNumberControl:J}}=wp,{i18n:{__:Q,_x},hooks:{addFilter:X},components:{Placeholder:Z,Card:ee,CardHeader:te,CardBody:oe,Spinner:ae,Button:le,Notice:re,TextControl:ne,ToggleControl:ce,__experimentalNumberControl:se},element:{useState:ie},blockEditor:{useSetting:de}}=wp,me=(e={})=>{const t=new URL(`${wecodeart.adminUrl}/site-editor.php`);return Object.keys(e).map((o=>t.searchParams.append(o,e[o]))),t.toString()};X("wecodeart.admin.tabs.plugins","wecodeart/cookies/admin/panel",(function(t){return[...t,{name:"wca-cookies",title:Q("Cookies","wecodeart"),render:t=>(0,e.createElement)(pe,{...t})}]}));const pe=t=>{const{settings:o,saveSettings:a,isRequesting:r,createNotice:n}=t;if(r||!o)return(0,e.createElement)(Z,{icon:(0,e.createElement)(ae,null),label:Q("Loading","wecodeart"),instructions:Q("Please wait, loading settings...","wecodeart")});const c=(({cookies:e})=>e)(o),[s,i]=ie(null),[d,m]=ie(c),[p,g]=ie(!1),u=(e={},t="offcanvas")=>{const o={...d?.[t]?.style,...e};m({...d,[t]:{...d?.[t],style:o}})},w=()=>(i(!1),n("success",Q("Settings saved.","wecodeart"))),f=de("color.palette");return(0,e.createElement)(e.Fragment,null,!1!==d.notice&&(0,e.createElement)(re,{status:"info",className:"border-top border-bottom border-end mb-3",onRemove:()=>m({...d,notice:!1})},(0,e.createElement)("p",{className:"my-0",dangerouslySetInnerHTML:{__html:sprintf(_x("You can edit module messages/templates under %s.","wecodeart"),`<a href="${me({path:"/patterns",categoryType:"wp_template_part",categoryId:"wca-cookies"})}" target="_blank">${Q("Site Editor","wecodeart")}</a>`)}})),(0,e.createElement)("div",{className:"grid",style:{"--wca--columns":2}},(0,e.createElement)("div",{className:"g-col-2"},(0,e.createElement)(ee,{className:"border shadow-none h-100"},(0,e.createElement)(te,null,(0,e.createElement)("h5",{className:"text-uppercase fw-medium m-0"},Q("Cookies","wecodeart"))),(0,e.createElement)(oe,{style:{color:"rgb(30, 30, 30)"}},(0,e.createElement)("p",null,(0,e.createElement)(ce,{label:Q("Block cookies","wecodeart"),checked:d?.cookies?.block,onChange:e=>m({...d,cookies:{...d?.cookies,block:e}}),help:sprintf(Q("Cookies are %s until accepted.","wecodeart"),Q(d?.cookies?.block?"blocked":"not blocked","wecodeart"))})),(0,e.createElement)("p",null,(0,e.createElement)(se,{label:Q("Expiration","wecodeart"),value:d?.cookies?.expire,onChange:e=>m({...d,cookies:{...d?.cookies,expire:e}}),help:Q("Duration for cookie accept|reject - in days.","wecodeart")})),(0,e.createElement)("p",null,(0,e.createElement)(ne,{label:Q("Necessary cookies","wecodeart"),value:d?.cookies?.necessary,onChange:e=>m({...d,cookies:{...d?.cookies,necessary:e}}),help:Q("These cookies are stictly necessary and website cannot function properly without them.","wecodeart")})),(0,e.createElement)("p",null,(0,e.createElement)(ne,{label:Q("Necessary cookies prefix","wecodeart"),value:d?.cookies?.necessaryPrefix,onChange:e=>m({...d,cookies:{...d?.cookies,necessaryPrefix:e}}),help:Q("Cookies starting with these prefixes will also be considered necessary.","wecodeart")}))))),(0,e.createElement)("div",{className:"g-col-1"},(0,e.createElement)(W,{formData:d,setFormData:m,setStyle:u,colors:f})),(0,e.createElement)("div",{className:"g-col-1"},(0,e.createElement)(T,{formData:d,setFormData:m,setStyle:u,colors:f}))),(0,e.createElement)(l,{formData:d?.toggler}),(0,e.createElement)("hr",{style:{margin:"20px 0"}}),(0,e.createElement)(le,{className:"button",isPrimary:!0,isLarge:!0,icon:s&&(0,e.createElement)(ae,null),onClick:()=>{i(!0),a({cookies:d},w)},disabled:s},s?"":Q("Save","wecodeart")))}})();